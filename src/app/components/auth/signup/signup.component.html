<section class="signup-form">
  <form
      #form="ngForm"
      fxLayout="column"
      fxLayoutGap="10px"
      fxLayoutAlign="center center"
      (ngSubmit)="onSubmit(form)">
    <mat-form-field>
      <input
          ngModel
          name="email"
          type="email"
          placeholder="Your email"
          matInput
          email
          required
          #emailInput="ngModel">
        <mat-error *ngIf="emailInput.hasError('required')">Email must not be empty.</mat-error>
        <mat-error *ngIf="!emailInput.hasError('required')">Email is invalid.</mat-error>
    </mat-form-field>
    <mat-form-field hintLabel="Should be at least 6 characters long.">
      <input
          ngModel
          name="password"
          type="password"
          placeholder="Your password"
          matInput
          minlength="6"
          required
          #passwordInput="ngModel">
      <mat-hint align="end">{{ passwordInput.value?.length }} / 6</mat-hint>
      <mat-error *ngIf="passwordInput.hasError('required')">Password must not be empty.</mat-error>
    </mat-form-field>
    <mat-form-field>
      <input
          ngModel
          name="birthDate"
          matInput
          placeholder="Enter your birth date"
          [matDatepicker]="birthDatePicker"
          [max]="maximumDate"
          required>
      <mat-datepicker-toggle
          matSuffix
          [for]="birthDatePicker">
      </mat-datepicker-toggle>
      <mat-datepicker #birthDatePicker></mat-datepicker>
    </mat-form-field>
    <mat-checkbox
        ngModel
        name="agreement"
        color="primary"
        required>
      Agree to Terms and Conditions
    </mat-checkbox>
    <button
        *ngIf="!isLoading"
        [disabled]="form.invalid"
        type="submit"
        mat-raised-button
        color="primary">
      Sign Up
    </button>
    <mat-spinner *ngIf="isLoading"></mat-spinner>
  </form>
</section>
