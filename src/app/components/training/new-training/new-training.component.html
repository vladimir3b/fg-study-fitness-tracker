<section
    fxLayout="row"
    fxLayoutAlign="center center"
    class="new-training">
  <form
      fxFlex="400px"
      fxFlex.lt-md="100%"
      #trainingForm="ngForm"
      (ngSubmit)="onStartTraining(trainingForm.value.chosenId)">
    <mat-card>
      <mat-card-title fxLayoutAlign="center center">
        Time to start a workout!
      </mat-card-title>
      <mat-card-content
          *ngIf="!isLoading && exercises"
          fxLayoutAlign="center center">
        <mat-form-field>
          <mat-select
              ngModel
              name="chosenId"
              required
              placeholder="Choose your exercise">
            <mat-option
                *ngFor="let exercise of exercises"
                [value]="exercise.id">
              {{ exercise.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions
          *ngIf="!isLoading"
          fxLayoutAlign="center center">
        <button
            *ngIf="exercises"
            [disabled]="trainingForm.invalid"
            style="margin-bottom: 25px"
            color="primary"
            mat-raised-button
            type="submit">
          Start
        </button>
        <button
            *ngIf="!exercises"
            (click)="fetchAvailableExercises()"
            style="margin-bottom: 25px"
            color="primary"
            mat-raised-button
            type="button">
          Fetch Again
        </button>
      </mat-card-actions>
      <div
          *ngIf="isLoading"
          style="margin: 25px 0; "
          fxLayoutAlign="center center">
        <br>
        <mat-spinner></mat-spinner>
      </div>
    </mat-card>
  </form>
</section>
